<!-- BragiApp\posts\templates\posts\post_edit.html -->

{% extends "base.html" %}

{% block title %}Edit Post{% endblock %}

{% block content %}

    <!-- Back Button -->
    <div class="text-left" style="position: sticky; top: 0; margin: 0; padding: 0; background-color: #FFFBFF;">
        <button onclick="window.history.back();" class="btn">
            <i class="fa-solid fa-chevron-left"></i> Back
        </button>
    </div>
    
    <!-- Form Section -->
    <div class="" style="padding: 16px 1%;">    

        <!-- Form start -->
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {{ form.as_p }}
            
            
           
            <!-- Toggle Publish/Unpublish Button -->
            {% if post.status == 'draft' %}
                <button type="submit" name="publish" class="btn btn-success">Publish</button>
            {% else %}
                <button type="submit" name="unpublish" class="btn btn-warning">Unpublish</button>
            {% endif %}


            <!-- Submit Button -->
            <button type="submit" class="btn btn-dark">Save Changes</button>

            <div class="mt-3">
                <a href="{% url 'post_detail' pk=post.pk %}" class="btn btn-outline-secondary">Cancel</a>
            </div>
        </form>
        
    </div>

{% endblock %}
